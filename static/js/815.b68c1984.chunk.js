"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[815],{815:(s,t,e)=>{e.r(t),e.d(t,{default:()=>S});var a=e(161),i=e(791);const o="MyPosts_postsBlock__tvsGM",r="MyPosts_posts__R-pgL",l="Post_item__WzD02";var n=e(184);const u=s=>(0,n.jsxs)("div",{className:l,children:[(0,n.jsx)("img",{src:"https://img.gazeta.ru/files3/217/10588217/Zootopia-pic905-895x505-73183.jpg"}),s.message,(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"like"})," ",s.likesCount]})]});var d=e(134);const c=i.memo((s=>{let t=s.posts.map((s=>(0,n.jsx)(u,{message:s.message,id:s.id,likesCount:s.likesCount},s.id)));const{register:e,handleSubmit:a,reset:i,formState:{errors:l}}=(0,d.cI)({mode:"onChange"});return(0,n.jsxs)("div",{className:o,children:[(0,n.jsx)("h3",{children:"My posts"}),(0,n.jsxs)("form",{onSubmit:a((t=>{s.addPost(t.newPostText),i()})),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{...e("newPostText",{required:"This field is required.",maxLength:{value:10,message:"Max length is ".concat(10," symbols")}})}),l.newPostText&&(0,n.jsx)("div",{style:{color:"red"},children:l.newPostText.message})]}),(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"submit",children:"Add post"})})]}),(0,n.jsx)("div",{className:r,children:t})]})}));var p=e(420);const x=(0,p.$j)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:t=>{s((0,a.Wl)(t))}})))(c);var h=e(929);const j="ProfileInfo_descriptionBlock__D-K-L",f="ProfileInfo_color__mtO9p",g=s=>{let[t,e]=(0,i.useState)(!1),[a,o]=(0,i.useState)(s.status);(0,i.useEffect)((()=>{o(s.status)}),[s.status]);return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{children:[!t&&(0,n.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"-----"}),t&&(0,n.jsx)("input",{onChange:s=>{o(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{e(!1),s.updateStatus(a)},value:a})]})})},m=s=>{let{profile:t,status:e,updateStatus:a}=s;return t?(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:j,children:[(0,n.jsx)("img",{src:t.photos.large}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:f,children:"\u041c\u043e\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0430 \u043d\u0430 \u0444\u0435\u0439\u0441\u0431\u0443\u043a\u0435:"}),(0,n.jsx)("span",{children:t.contacts.facebook})]}),(0,n.jsx)(g,{status:e,updateStatus:a})]})}):(0,n.jsx)(h.Z,{})},v=s=>(0,n.jsxs)("div",{children:[(0,n.jsx)(m,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,n.jsx)(x,{})]});var P=e(689),_=e(548);const S=(0,e(154).qC)((0,p.$j)((s=>({profile:s.profilePage.profile,status:s.profilePage.status})),{getUsersProfile:a.XG,getStatus:a.lR,updateStatus:a.Nf}),_.D)((function(s){let{userId:t}=(0,P.UO)();return(0,i.useEffect)((()=>{s.getUsersProfile(t),s.getStatus(t)}),[t]),(0,n.jsx)("div",{children:(0,n.jsx)(v,{profile:s.profile,status:s.status,updateStatus:s.updateStatus})})}))},548:(s,t,e)=>{e.d(t,{D:()=>l});e(791);var a=e(420),i=e(689),o=e(184);let r=s=>({isAuth:s.auth.isAuth});const l=s=>(0,a.$j)(r)((t=>t.isAuth?(0,o.jsx)(s,{...t}):(0,o.jsx)(i.Fg,{to:"/login"})))}}]);
//# sourceMappingURL=815.b68c1984.chunk.js.map